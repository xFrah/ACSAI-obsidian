In this proof we show how to convert a [[Context-Free Grammars|Context-Free grammar]] into an equivalent [[PDA]].

> [!cite] Derivation meaning
> A derivation is simply the sequence of substitutions made as a grammar generates a string.
> Each step of the derivation yields an intermediate string of variables and terminals.


Let $G$ be a CFG.
Assume we have a PDA which accepts a string $w$ (generated by G), but only if there exists a derivation from the start variable (basically an empty string) to $w$.

> [!hint] How do you figure out which path to take at each step of the derivation?
> You don't.
> A PDA works like an [[Automata|NFA]], which takes every single possible path and accepts the string if even one path finishes in a finish state.


The PDA starts with the start variable in its stack.

![[Pasted image 20250817120719.png]]


Then it begins popping from the stack, substituting non-determinalistically the variable that popped out and then pushing the result of the substitution.

> [!warning] What if we pop a terminal?
> The stack will only ever contain a variable in its leftmost slot, because terminals will be matched to the symbols in $w$ right away by the PDA, and not pushed on the stack.
> So **we can only pop variables from the stack**.

![[Pasted image 20250817120656.png]]


Eventually, substitution after substitution, the PDA may arrive at a string that contains only terminal symbols, meaning that it has used the grammar to derive a string.

> [!tldr]
> ![[Pasted image 20250817120828.png]]

---

## Proof
WIP, this is basically a formal construction of the automaton.
